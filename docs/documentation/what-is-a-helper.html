<html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="X-UA-Compatible" content="ie=edge">
            <title>Tutorial - HTML Templating System - Before Semicolon</title><link rel="stylesheet" href="../stylesheets/hybrid.hightlighter.css">
            <link rel="stylesheet" href="../stylesheets/documentation.css"></head>
        <body><header class="wrapper">
        <h1>
            <a href="../"><strong style="text-transform: uppercase">Markup</strong></a>
        </h1>
        <nav>
            <a href="https://www.npmjs.com/package/@beforesemicolon/markup">v<em>0.2.5-beta</em></a>
        </nav>
    </header><main><div class="wrapper docs">
                <div class="doc-nav" id="menu">
                    <a class="mobile-menu-open" href="#menu">
                        <span>menu</span>
                    </a>
                    <ul class="doc-nav-list" id="doc-nav-list" tabindex="0"><li>
                                    <span>Introduction</span>
                                    <ul><li>
                                                    <a href="../documentation">What is Markup?</a>
                                                </li><li>
                                                    <a href="../documentation/installation">Installation</a>
                                                </li><li>
                                                    <a href="../documentation/essential-training">Essential Training</a>
                                                </li><li>
                                                    <a href="../documentation/tutorial">Tutorial</a>
                                                </li><li>
                                                    <a href="../documentation/examples">Examples</a>
                                                </li></ul>
                                </li><li>
                                    <span>Templating</span>
                                    <ul><li>
                                                    <a href="../documentation/creating-and-rendering">Creating &amp; Rendering</a>
                                                </li><li>
                                                    <a href="../documentation/template-values">Template values</a>
                                                </li><li>
                                                    <a href="../documentation/replacing-content">Replacing content</a>
                                                </li><li>
                                                    <a href="../documentation/dom-references">DOM references</a>
                                                </li><li>
                                                    <a href="../documentation/conditional-attributes">Conditional attributes</a>
                                                </li><li>
                                                    <a href="../documentation/event-handling">Event handling</a>
                                                </li><li>
                                                    <a href="../documentation/dynamic-values-and-update">Dynamic values &amp; Update</a>
                                                </li><li>
                                                    <a href="../documentation/state-values">State values</a>
                                                </li></ul>
                                </li><li>
                                    <span>Helpers</span>
                                    <ul><li class="active">
                                                    <a href="../documentation/what-is-a-helper">What is a Helper?</a>
                                                </li><li>
                                                    <a href="../documentation/effect-helper">Effect helper</a>
                                                </li><li>
                                                    <a href="../documentation/conditional-rendering">Conditional Rendering</a>
                                                </li><li>
                                                    <a href="../documentation/repetition-and-lists">Repetition &amp; Lists</a>
                                                </li><li>
                                                    <a href="../documentation/is-isnot-helpers">Is &amp; IsNot helpers</a>
                                                </li><li>
                                                    <a href="../documentation/or-and-oneof-helpers">Or, And, &amp; OneOf helpers</a>
                                                </li><li>
                                                    <a href="../documentation/pick-helper">Pick helper</a>
                                                </li><li>
                                                    <a href="../documentation/suspense-helper">Suspense helper</a>
                                                </li><li>
                                                    <a href="../documentation/custom-helper">Custom helper</a>
                                                </li></ul>
                                </li><li>
                                    <span>Capabilities</span>
                                    <ul><li>
                                                    <a href="../documentation/function-components">Function Components</a>
                                                </li><li>
                                                    <a href="../documentation/web-components">Web Components</a>
                                                </li><li>
                                                    <a href="../documentation/server-side-rendering">Server Side Rendering</a>
                                                </li><li>
                                                    <a href="../documentation/state-store">State Store</a>
                                                </li></ul>
                                </li></ul>
                    <a href="../documentation/what-is-a-helper" class="mobile-menu-close"></a>
                </div>
                <article><h2 id="what-is-a-helper" class="heading"><a href="#what-is-a-helper">What is a Helper?</a></h2><p>
            A helper is simply a function. A function that main purpose is to
            help with some logic in the template.
        </p>
        <p>
            It can be used to check data, wrap or render templates, manipulate
            data, etc. You can create simple functions and use the template
            <code>update</code> method to trigger them all or wrap functions in
            <code>Helper</code> call to make it work with template states.
        </p><h3 id="simple-helper" class="heading"><a href="#simple-helper">Simple helper</a></h3><p>
            Bellow is a simple example of a helper. For this case this code is
            using the template <code>update</code> method to trigger updates on
            the DOM. In this case, any function in the template will get called
            with every update.
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">evenOddCountLabel</span> = (<span class="hljs-params"></span>) =&gt; count % <span class="hljs-number">2</span> === <span class="hljs-number">0</span> ? <span class="hljs-string">'even'</span> : <span class="hljs-string">'odd'</span>;

<span class="hljs-keyword">const</span> counter = html`<span class="language-xml">
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${() =&gt; count}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${evenOddCountLabel}</span><span class="language-xml"> count<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"</span></span></span><span class="hljs-subst">${countUp}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
`</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">countUp</span>(<span class="hljs-params"></span>) {
  count += <span class="hljs-number">1</span>;
  counter.<span class="hljs-title function_">update</span>()
}

counter.<span class="hljs-title function_">render</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>)</code></pre></div><p>
            As you can see, a helper is simply a function that does a particular
            calculation and returns something for a part of the template. This
            can be an attribute value or a template content.
        </p>
        <p>
            For contrast, this is how it would look like if I was using
            <a href="./state-values">state</a> instead.
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">let</span> [count, setCount] = <span class="hljs-title function_">state</span>(<span class="hljs-number">0</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">evenOddCountLabel</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-title function_">count</span>() % <span class="hljs-number">2</span> === <span class="hljs-number">0</span> ? <span class="hljs-string">'even'</span> : <span class="hljs-string">'odd'</span>;

<span class="hljs-keyword">const</span> counter = html`<span class="language-xml">
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${count}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${effect(count, evenOddCountLabel)}</span><span class="language-xml"> count<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"</span></span></span><span class="hljs-subst">${countUp}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
`</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">countUp</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>)
}

counter.<span class="hljs-title function_">render</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>)</code></pre></div><p>
            The difference is the usage of the <code>effect</code> helper to
            tell the template to execute the helper whenever the
            <code>count</code> changes since this particular helper uses the
            <code>count</code> state inside.
        </p><h3 id="helper-wrapper" class="heading"><a href="#helper-wrapper">Helper wrapper</a></h3><p>
            We can simplify the helper above with the
            <code>helper</code> wrapper.
        </p>

        <p>
            To use the <code>helper</code> wrapper, all you need to do is wrap a
            function with it. If that function takes as
            <code>StateGetter</code> directly as argument, the template will
            know to recalculate the result of that helper when the states it
            depends on changes.
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">let</span> [count, setCount] = <span class="hljs-title function_">state</span>(<span class="hljs-number">0</span>);

<span class="hljs-keyword">const</span> evenOddLabel = <span class="hljs-title function_">helper</span>(<span class="hljs-function">(<span class="hljs-params">x: StateGetter&lt;<span class="hljs-built_in">number</span>&gt;</span>) =&gt;</span> <span class="hljs-title function_">x</span>() % <span class="hljs-number">2</span> === <span class="hljs-number">0</span> 
   ? <span class="hljs-string">'even'</span> 
   : <span class="hljs-string">'odd'</span>);

<span class="hljs-keyword">const</span> counter = html`<span class="language-xml">
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${count}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${evenOddLabel(count)}</span><span class="language-xml"> count<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"</span></span></span><span class="hljs-subst">${countUp}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
`</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">countUp</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>)
}

counter.<span class="hljs-title function_">render</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>)</code></pre></div>
        <h4 id="helper-value" class="heading"><a href="#helper-value">Helper value</a></h4><p>
            The <code>helper</code> wrapper returns an instance of
            <code>Helper</code> which the template itself knows how to handle.
            All it does is call it and get the <code>value</code>.
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-title function_">evenOddLabel</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-number">12</span>).<span class="hljs-property">value</span></code></pre></div>
        <h4 id="working-with-helpers" class="heading"><a href="#working-with-helpers">Working with helpers</a></h4><p>
            Helpers are just functions, and you can do anything you would with
            functions including returning or passing them around.
        </p>
        <p>
            Below is a simple example of nesting helpers, in this case the
            <code>is</code>, <code>when</code>, and <code>repeat</code> helpers.
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes">html`<span class="hljs-subst">${repeat(
  when(is(userType, <span class="hljs-string">'user'</span>), [<span class="hljs-string">'name'</span>, <span class="hljs-string">'status'</span>], [<span class="hljs-string">'name'</span>, <span class="hljs-string">'role'</span>]), 
  part =&gt; html`<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span></span><span class="hljs-subst">${part}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>`</span>)
}</span><span class="language-xml">`</span></code></pre></div><p>
            Ofcourse you can simplify this by moving them into a new helper
            altogether to make it easier to read, but it should give you enough
            idea of what is possible.
        </p><h3 id="helper-scope-state" class="heading"><a href="#helper-scope-state">Helper scope state</a></h3><p>
            The best way to introduce internal state to the helper functions is
            to use
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">JavaScript closure</a>
            and the helper would still work just fine.
        </p>
        <p>
            The following filter use the outer function to "cache" the condition
            and the filtered list results, so it can save unnecessary
            computation.
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">const</span> filterList = <span class="hljs-title function_">helper</span>(<span class="hljs-function">(<span class="hljs-params">list, filterer, condition = () =&gt; <span class="hljs-literal">null</span></span>) =&gt;</span> {
  <span class="hljs-keyword">let</span> val = [];
  <span class="hljs-keyword">let</span> cond;
  
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span>(<span class="hljs-title function_">condition</span>() !== cond) {
      val = <span class="hljs-title function_">list</span>().<span class="hljs-title function_">filter</span>(filterer);
      cond = <span class="hljs-title function_">condition</span>();
    }
    
    <span class="hljs-keyword">return</span> val;
  }
})</code></pre></div><p>
            This is just an example and not something you will need with this
            library if using state but it shows that you can freely nest
            functions up to one two levels (outer and inner) and the helper
            would still function well.
        </p>
        <p>
            This capability will allow helpers to keep data in between
            calculations and you to build more powerful helpers to support your
            project.
        </p></article>
            </div></main><footer class="wrapper">
            <ul class="learning-resources">
                <h5>Learning Resources</h5>
                <li><a href="../documentation">Documentation</a></li>
                <li>
                    <a href="../documentation/essential-training">Essential Training</a>
                </li>
                <li>
                    <a href="../documentation/tutorial">Tutorial</a>
                </li>
                <li>
                    <a href="../documentation/examples">Examples</a>
                </li>
            </ul>
            <ul class="about-bfs">
                <h5>About <em>Before Semicolon</em></h5>
                <li>
                    <a href="https://github.com/beforesemicolon" rel="noopener" target="_blank">Open Source</a>
                </li>
                <li>
                    <a href="https://beforesemicolon.com/" rel="noopener" target="_blank">Website</a>
                </li>
                <li>
                    <a href="https://medium.com/before-semicolon" rel="noopener" target="_blank">Blog</a>
                </li>
                <li>
                    <a href="https://www.youtube.com/channel/UCrU33aw1k9BqTIq2yKXrmBw" rel="noopener" target="_blank">YouTube Channel</a>
                </li>
                <li>
                    <address aria-label="social-media"><a href="https://medium.com/before-semicolon" rel="noopener" target="_blank">
                                    <img src="../assets/medium2.svg" alt="Medium blog" width="20">
                                </a><a href="https://www.facebook.com/beforesemicolon/" rel="noopener" target="_blank">
                                    <img src="../assets/facebook.svg" alt="Facebook" width="20">
                                </a><a href="https://www.instagram.com/before_semicolon_/" rel="noopener" target="_blank">
                                    <img src="../assets/instagram.svg" alt="Instagram" width="20">
                                </a><a href="https://www.reddit.com/r/beforesemicolon/" rel="noopener" target="_blank">
                                    <img src="../assets/reddit.svg" alt="Reddit" width="20">
                                </a><a href="https://twitter.com/BeforeSemicolon" rel="noopener" target="_blank">
                                    <img src="../assets/twitter.svg" alt="Twitter" width="20">
                                </a><a href="https://www.youtube.com/channel/UCrU33aw1k9BqTIq2yKXrmBw" rel="noopener" target="_blank">
                                    <img src="../assets/youtube.svg" alt="YouTube" width="20">
                                </a></address>
                </li>
            </ul>
            <div class="copyright">
                <img src="../assets/before-semicolon-logo.png" alt="Before Semicolon logo">
                <p>
                    <small>Copyright © 2023 Before
                        Semicolon. All rights reserved.</small>
                </p>
            </div>
        </footer></body>
    </html>