<html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="X-UA-Compatible" content="ie=edge">
            <title>Tutorial - HTML Templating System - Before Semicolon</title>
            <script src="https://unpkg.com/@beforesemicolon/html/dist/client.js"></script>
            <link rel="stylesheet" href="../stylesheets/normalize.css">
            <link rel="stylesheet" href="../stylesheets/common.css"><link rel="stylesheet" href="../stylesheets/documentation.css">
            <link rel="stylesheet" href="../stylesheets/hybrid.hightlighter.css"></head>
        <body><header class="wrapper">
        <h1>
            <a href="../"><strong style="text-transform: uppercase">Markup</strong></a>
        </h1>
        <nav>
            <a href="https://www.npmjs.com/package/@beforesemicolon/html">v<em>0.2.1-beta</em></a>
        </nav>
    </header><main><div class="wrapper docs">
                <ul class="docs-list" tabindex="0"><li>
                                <span>Introduction</span>
                                <ul><li>
                                                <a href="../documentation">What is @bfs/html?</a>
                                            </li><li>
                                                <a href="../documentation/installation.html">Installation</a>
                                            </li><li>
                                                <a href="../documentation/essential-training.html">Essential Training</a>
                                            </li><li>
                                                <a href="../documentation/tutorial.html">Tutorial</a>
                                            </li><li>
                                                <a href="../documentation/examples.html">Examples</a>
                                            </li></ul>
                            </li><li>
                                <span>Templating</span>
                                <ul><li>
                                                <a href="../documentation/creating-and-rendering.html">Creating &amp; Rendering</a>
                                            </li><li>
                                                <a href="../documentation/template-values.html">Template values</a>
                                            </li><li>
                                                <a href="../documentation/replacing-content.html">Replacing content</a>
                                            </li><li>
                                                <a href="../documentation/dom-references.html">DOM references</a>
                                            </li><li>
                                                <a href="../documentation/conditional-attributes.html">Conditional attributes</a>
                                            </li><li>
                                                <a href="../documentation/event-handling.html">Event handling</a>
                                            </li><li>
                                                <a href="../documentation/dynamic-values-and-update.html">Dynamic values &amp; Update</a>
                                            </li><li>
                                                <a href="../documentation/state-values.html">State values</a>
                                            </li></ul>
                            </li><li>
                                <span>Helpers</span>
                                <ul><li>
                                                <a href="../documentation/what-is-a-helper.html">What is a Helper?</a>
                                            </li><li>
                                                <a href="../documentation/effect-helper.html">Effect helper</a>
                                            </li><li>
                                                <a href="../documentation/conditional-rendering.html">Conditional Rendering</a>
                                            </li><li>
                                                <a href="../documentation/repetition-and-lists.html">Repetition &amp; Lists</a>
                                            </li><li>
                                                <a href="../documentation/is-isnot-helpers.html">Is &amp; IsNot helpers</a>
                                            </li><li>
                                                <a href="../documentation/or-and-oneof-helpers.html">Or, And, &amp; OneOf helpers</a>
                                            </li><li>
                                                <a href="../documentation/pick-helper.html">Pick helper</a>
                                            </li><li>
                                                <a href="../documentation/suspense-helper.html">Suspense helper</a>
                                            </li><li class="active">
                                                <a href="../documentation/custom-helper.html">Custom helper</a>
                                            </li></ul>
                            </li><li>
                                <span>Capabilities</span>
                                <ul><li>
                                                <a href="../documentation/function-components.html">Function Components</a>
                                            </li><li>
                                                <a href="../documentation/web-components.html">Web Components</a>
                                            </li><li>
                                                <a href="../documentation/server-side-rendering.html">Server Side Rendering</a>
                                            </li><li>
                                                <a href="../documentation/state-store.html">State Store</a>
                                            </li></ul>
                            </li></ul>
                <article><h2 id="custom-helper" class="heading"><a href="#custom-helper">Custom helper</a></h2><p>
            To create a custom helper, all you need to do is create a function.
            If you expect to receive a state value you can wrap it in the
            <code>helper</code> function and handle the state value. All which
            this library can help you with.
        </p>
        <p>Let's look at this simple render of a todo list.</p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">const</span> [todos, updateTodos] = <span class="hljs-title function_">state</span>([
  {<span class="hljs-attr">name</span>: <span class="hljs-string">"buy groceries"</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">"pending"</span>},
  {<span class="hljs-attr">name</span>: <span class="hljs-string">"go to gym"</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">"done"</span>},
  {<span class="hljs-attr">name</span>: <span class="hljs-string">"prepare for xmas"</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">"pending"</span>},
  {<span class="hljs-attr">name</span>: <span class="hljs-string">"start a yt channel"</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">"pending"</span>},
])

html`<span class="hljs-subst">${repeat(todos, t =&gt; html`<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${t.name}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>`</span>)}</span><span class="language-xml">`</span></code></pre></div><p>Let's build a helper that can filter the todos based on status.</p>
        <p>
            The simplest way is to just create a function that takes a list and
            function that returns a boolean and gets called for each item.
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">const</span> <span class="hljs-title function_">filterList</span> = (<span class="hljs-params">list, filterer</span>) =&gt; {
  <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">filter</span>(filterer)
}</code></pre></div><p>We can use such a filter function as so:</p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes">html`<span class="hljs-subst">${repeat(
  filterList(
    todos(), 
    t =&gt; t.status === <span class="hljs-string">"done"</span>
  ), 
  t =&gt; html`<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${t.name}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>`</span>
)}</span><span class="language-xml">`</span></code></pre></div><p>
            This works perfectly for the first render. It fails when the todo
            list state changes. This is because the template only performs a DOM
            update when it sees the state.
        </p>
        <p>
            The first thing we can do is wrap the function with the helper
            function so the template knows to look for a state.
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">const</span> filterList = <span class="hljs-title function_">helper</span>(<span class="hljs-function">(<span class="hljs-params">list, filterer</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">filter</span>(filterer)
})</code></pre></div><p>
            But we are not passing the <code>todos</code> state to the helper,
            we are just calling it to pass the value to the
            <code>filterList</code>.
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes">html`<span class="hljs-subst">${repeat(
  filterList(
    todos(), // &lt;- here 
    t =&gt; t.status === <span class="hljs-string">"done"</span>
  ), 
  t =&gt; html`<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${t.name}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>`</span>
)}</span><span class="language-xml">`</span></code></pre></div><p>Instead, we can call it inside the helper instead.</p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">const</span> filterList = <span class="hljs-title function_">helper</span>(<span class="hljs-function">(<span class="hljs-params">list, filterer</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">list</span>().<span class="hljs-title function_">filter</span>(filterer)
})</code></pre></div><p>All the issues are now fixed and the final result looks like so.</p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">const</span> filterList = <span class="hljs-title function_">helper</span>(<span class="hljs-function">(<span class="hljs-params">list, filterer</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">list</span>().<span class="hljs-title function_">filter</span>(filterer)
});

html`<span class="hljs-subst">${repeat(
  filterList(
    todos,
    t =&gt; t.status === <span class="hljs-string">"done"</span>
  ), 
  t =&gt; html`<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${t.name}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>`</span>
)}</span><span class="language-xml">`</span></code></pre></div><p>
            However, the <code>filterList</code> only works for state values.
            Ideally, you want a helper to work if a state, raw, or helper value
            is provided. To do that, we can use the <code>val</code> utility.
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">const</span> filterList = <span class="hljs-title function_">helper</span>(<span class="hljs-function">(<span class="hljs-params">list, filterer</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">val</span>(list).<span class="hljs-title function_">filter</span>(filterer)
})</code></pre></div><p>
            Now the helper is complete and would work for any type of data. Here
            is the full example in typescript
        </p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-keyword">import</span> {
  html,
  state,
  helper,
  val,
  repeat,
  <span class="hljs-title class_">StateGetter</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@beforesemicolon/html"</span>;

<span class="hljs-keyword">const</span> filterList = <span class="hljs-title function_">helper</span>(&lt;T&gt;<span class="hljs-function">(<span class="hljs-params">
  list: T[] | StateGetter&lt;T[]&gt;,
  filterer: (item: T) =&gt; <span class="hljs-built_in">boolean</span>
</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> val&lt;T[]&gt;(list).<span class="hljs-title function_">filter</span>(filterer)
});

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ToDo</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">status</span>: <span class="hljs-string">"done"</span> | <span class="hljs-string">"pending"</span>;
}

<span class="hljs-keyword">const</span> [todos, updateTodos] = state&lt;<span class="hljs-title class_">ToDo</span>[]&gt;([
  {<span class="hljs-attr">name</span>: <span class="hljs-string">"buy groceries"</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">"pending"</span>},
  {<span class="hljs-attr">name</span>: <span class="hljs-string">"go to gym"</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">"done"</span>},
  {<span class="hljs-attr">name</span>: <span class="hljs-string">"prepare for xmas"</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">"pending"</span>},
  {<span class="hljs-attr">name</span>: <span class="hljs-string">"start a yt channel"</span>, <span class="hljs-attr">status</span>: <span class="hljs-string">"pending"</span>},
])

html`<span class="hljs-subst">${repeat(
  filterList(
    todos,
    t =&gt; t.status === <span class="hljs-string">"done"</span>
  ), 
  t =&gt; html`<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-subst">${t.name}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>`</span>
)}</span><span class="language-xml">`</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>);</code></pre></div></article>
            </div></main><footer class="wrapper">
            <ul class="learning-resources">
                <h5>Learning Resources</h5>
                <li><a href="../documentation">Documentation</a></li>
                <li>
                    <a href="../documentation/essential-training.html">Essential Training</a>
                </li>
                <li>
                    <a href="../documentation/tutorial.html">Tutorial</a>
                </li>
                <li>
                    <a href="../documentation/examples.html">Examples</a>
                </li>
            </ul>
            <ul class="about-bfs">
                <h5>About <em>Before Semicolon</em></h5>
                <li>
                    <a href="https://github.com/beforesemicolon" rel="noopener" target="_blank">Open Source</a>
                </li>
                <li>
                    <a href="https://beforesemicolon.com/" rel="noopener" target="_blank">Website</a>
                </li>
                <li>
                    <a href="https://medium.com/before-semicolon" rel="noopener" target="_blank">Blog</a>
                </li>
                <li>
                    <a href="https://www.youtube.com/channel/UCrU33aw1k9BqTIq2yKXrmBw" rel="noopener" target="_blank">YouTube Channel</a>
                </li>
                <li>
                    <address aria-label="social-media"><a href="https://medium.com/before-semicolon" rel="noopener" target="_blank">
                                    <img src="../assets/medium2.svg" alt="Medium blog" width="20">
                                </a><a href="https://www.facebook.com/beforesemicolon/" rel="noopener" target="_blank">
                                    <img src="../assets/facebook.svg" alt="Facebook" width="20">
                                </a><a href="https://www.instagram.com/before_semicolon_/" rel="noopener" target="_blank">
                                    <img src="../assets/instagram.svg" alt="Instagram" width="20">
                                </a><a href="https://www.reddit.com/r/beforesemicolon/" rel="noopener" target="_blank">
                                    <img src="../assets/reddit.svg" alt="Reddit" width="20">
                                </a><a href="https://twitter.com/BeforeSemicolon" rel="noopener" target="_blank">
                                    <img src="../assets/twitter.svg" alt="Twitter" width="20">
                                </a><a href="https://www.youtube.com/channel/UCrU33aw1k9BqTIq2yKXrmBw" rel="noopener" target="_blank">
                                    <img src="../assets/youtube.svg" alt="YouTube" width="20">
                                </a></address>
                </li>
            </ul>
            <div class="copyright">
                <img src="../assets/before-semicolon-logo.png" alt="Before Semicolon logo">
                <p>
                    <small>Copyright © 2023 Before
                        Semicolon. All rights reserved.</small>
                </p>
            </div>
        </footer></body>
    </html>