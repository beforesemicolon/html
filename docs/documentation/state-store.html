<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Tutorial - HTML Templating System - Before Semicolon</title><link rel="stylesheet" href="../stylesheets/hybrid.hightlighter.css"><link rel="stylesheet" href="../stylesheets/documentation.css"></head><body><header class="wrapper"><h1><a href="../"><strong style="text-transform: uppercase">Markup</strong></a></h1><nav><a href="https://www.npmjs.com/package/@beforesemicolon/markup">v<em>0.2.5-beta</em></a></nav></header><main><div class="wrapper docs"><div class="doc-nav" id="menu"><a class="mobile-menu-open" href="#menu"><span>menu</span></a><ul class="doc-nav-list" id="doc-nav-list" tabindex="0"><li><span>Introduction</span><ul><li><a href="../documentation">What is Markup?</a></li><li><a href="../documentation/installation">Installation</a></li><li><a href="../documentation/essential-training">Essential Training</a></li><li><a href="../documentation/tutorial">Tutorial</a></li><li><a href="../documentation/examples">Examples</a></li></ul></li><li><span>Templating</span><ul><li><a href="../documentation/creating-and-rendering">Creating &amp; Rendering</a></li><li><a href="../documentation/template-values">Template values</a></li><li><a href="../documentation/replacing-content">Replacing content</a></li><li><a href="../documentation/dom-references">DOM references</a></li><li><a href="../documentation/conditional-attributes">Conditional attributes</a></li><li><a href="../documentation/event-handling">Event handling</a></li><li><a href="../documentation/dynamic-values-and-update">Dynamic values &amp; Update</a></li><li><a href="../documentation/state-values">State values</a></li></ul></li><li><span>Helpers</span><ul><li><a href="../documentation/what-is-a-helper">What is a Helper?</a></li><li><a href="../documentation/effect-helper">Effect helper</a></li><li><a href="../documentation/conditional-rendering">Conditional Rendering</a></li><li><a href="../documentation/repetition-and-lists">Repetition &amp; Lists</a></li><li><a href="../documentation/is-isnot-helpers">Is &amp; IsNot helpers</a></li><li><a href="../documentation/or-and-oneof-helpers">Or, And, &amp; OneOf helpers</a></li><li><a href="../documentation/pick-helper">Pick helper</a></li><li><a href="../documentation/suspense-helper">Suspense helper</a></li><li><a href="../documentation/custom-helper">Custom helper</a></li></ul></li><li><span>Capabilities</span><ul><li><a href="../documentation/function-components">Function Components</a></li><li><a href="../documentation/web-components">Web Components</a></li><li><a href="../documentation/server-side-rendering">Server Side Rendering</a></li><li class="active"><a href="../documentation/state-store">State Store</a></li></ul></li></ul><a href="../documentation/state-store" class="mobile-menu-close"></a></div><article><h2 id="state-store" class="heading"><a href="#state-store">State Store</a></h2><p>Having a global store can come in handy. There are many solutionsout there you can use but let's entertain the idea you can create asimple store using the<a href="./state-values#state">state</a> function.</p><p>Let's create a todo store.</p><div class="code-snippet"><pre><code class="language-typescript theme-hybrid hljs" data-highlighted="yes"><span class="hljs-comment">// src/stores/todo.ts</span>
<span class="hljs-keyword">import</span> {state} <span class="hljs-keyword">from</span> <span class="hljs-string">"@beforesemicolon/markup"</span>;<span class="hljs-keyword">type</span> <span class="hljs-variable constant_">UUID</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">string</span>}</span>-<span class="hljs-subst">${<span class="hljs-built_in">string</span>}</span>-<span class="hljs-subst">${<span class="hljs-built_in">string</span>}</span>-<span class="hljs-subst">${<span class="hljs-built_in">string</span>}</span>-<span class="hljs-subst">${<span class="hljs-built_in">string</span>}</span>`</span><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Todo</span> {<span class="hljs-attr">id</span>: <span class="hljs-variable constant_">UUID</span><span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span><span class="hljs-attr">status</span>: <span class="hljs-string">"done"</span> | <span class="hljs-string">"pending"</span> | <span class="hljs-string">"removed"</span><span class="hljs-attr">dateCreated</span>: <span class="hljs-title class_">Date</span><span class="hljs-attr">dateLastUpdated</span>: <span class="hljs-title class_">Date</span>
}<span class="hljs-keyword">const</span> [todos, updateTodos] = state&lt;<span class="hljs-title class_">Todo</span>[]&gt;([]);<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> todoList = todos;<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">createTodo</span> = (<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) =&gt; {<span class="hljs-keyword">const</span> dateCreated = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<span class="hljs-keyword">const</span> <span class="hljs-attr">todo</span>: <span class="hljs-title class_">Todo</span> = {<span class="hljs-attr">id</span>: crypto.<span class="hljs-title function_">randomUUID</span>(),name,<span class="hljs-attr">description</span>: <span class="hljs-string">""</span>,<span class="hljs-attr">status</span>: <span class="hljs-string">"pending"</span>,dateCreated,<span class="hljs-attr">dateLastUpdated</span>: dateCreated}<span class="hljs-title function_">updateTodos</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> [...prev, todo])
}<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateTodo</span> = (<span class="hljs-params">id: UUID, data: Partial&lt;Todo&gt;</span>) =&gt; {<span class="hljs-title function_">updateTodos</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> {<span class="hljs-keyword">if</span>(todo.<span class="hljs-property">id</span> === id) {<span class="hljs-keyword">return</span> {...todo,<span class="hljs-attr">name</span>: data.<span class="hljs-property">name</span> ?? todo.<span class="hljs-property">name</span>,<span class="hljs-attr">description</span>: data.<span class="hljs-property">description</span> ?? todo.<span class="hljs-property">description</span>,<span class="hljs-attr">status</span>: data.<span class="hljs-property">status</span> ?? todo.<span class="hljs-property">status</span>,<span class="hljs-attr">dateLastUpdated</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()}}<span class="hljs-keyword">return</span> todo;}))
}<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">deleteTodo</span> = (<span class="hljs-params">id: UUID</span>) =&gt; {<span class="hljs-title function_">updateTodos</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> {<span class="hljs-keyword">return</span> todo.<span class="hljs-property">id</span> !== id;}))
}<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">clearTodos</span> = (<span class="hljs-params"></span>) =&gt; {<span class="hljs-title function_">updateTodos</span>([])
}</code></pre></div><p>This is a simple file store that handles all the CRUD operations andonly exposes the necessary.</p><p>There is no subscriptions needed, not complex setup and using the<code>todoList</code> in the template with the nice cocktail ofhelpers is all you need to create very complex applications.</p><p>We have prepared a full tutorial on how to create such applicationand you can <a href="">watch it here</a> to learn more.</p></article></div></main><footer class="wrapper"><ul class="learning-resources"><h5>Learning Resources</h5><li><a href="../documentation">Documentation</a></li><li><a href="../documentation/essential-training">Essential Training</a></li><li><a href="../documentation/tutorial">Tutorial</a></li><li><a href="../documentation/examples">Examples</a></li></ul><ul class="about-bfs"><h5>About <em>Before Semicolon</em></h5><li><a href="https://github.com/beforesemicolon" rel="noopener" target="_blank">Open Source</a></li><li><a href="https://beforesemicolon.com/" rel="noopener" target="_blank">Website</a></li><li><a href="https://medium.com/before-semicolon" rel="noopener" target="_blank">Blog</a></li><li><a href="https://www.youtube.com/channel/UCrU33aw1k9BqTIq2yKXrmBw" rel="noopener" target="_blank">YouTube Channel</a></li><li><address aria-label="social-media"><a href="https://medium.com/before-semicolon" rel="noopener" target="_blank"><img src="../assets/medium2.svg" alt="Medium blog" width="20"></a><a href="https://www.facebook.com/beforesemicolon/" rel="noopener" target="_blank"><img src="../assets/facebook.svg" alt="Facebook" width="20"></a><a href="https://www.instagram.com/before_semicolon_/" rel="noopener" target="_blank"><img src="../assets/instagram.svg" alt="Instagram" width="20"></a><a href="https://www.reddit.com/r/beforesemicolon/" rel="noopener" target="_blank"><img src="../assets/reddit.svg" alt="Reddit" width="20"></a><a href="https://twitter.com/BeforeSemicolon" rel="noopener" target="_blank"><img src="../assets/twitter.svg" alt="Twitter" width="20"></a><a href="https://www.youtube.com/channel/UCrU33aw1k9BqTIq2yKXrmBw" rel="noopener" target="_blank"><img src="../assets/youtube.svg" alt="YouTube" width="20"></a></address></li></ul><div class="copyright"><img src="../assets/before-semicolon-logo.png" alt="Before Semicolon logo"><p><small>Copyright © 2023 BeforeSemicolon. All rights reserved.</small></p></div></footer></body></html>